zk.load('zul.wgt',function(){zk._p=zkpi('zul.tab',true);try{zul.tab.Tabbox=zk.$extends(zul.Widget,{_orient:"horizontal",_tabscroll:true,$define:{tabscroll:_zkf=function(){this.rerender()},orient:_zkf,panelSpacing:_zkf},getTabs:function(){return this.tabs},getTabpanels:function(){return this.tabpanels},getToolbar:function(){return this.toolbar},getZclass:function(){return this._zclass==null?"z-tabbox"+(this.inAccordionMold()?"-"+this.getMold():this.isVertical()?"-ver":""):this._zclass},isHorizontal:function(){return"horizontal"==this.getOrient()},isVertical:function(){return"vertical"==this.getOrient()},inAccordionMold:function(){return this.getMold().indexOf("accordion")!=-1},getSelectedIndex:function(){return this._selTab?this._selTab.getIndex():-1},setSelectedIndex:function(a){if(this.tabs){this.setSelectedTab(this.tabs.getChildAt(a))}},getSelectedPanel:function(){return this._selTab?this._selTab.getLinkedPanel():null},setSelectedPanel:function(a){if(a&&a.getTabbox()!=this){return}var b=a.getLinkedTab();if(b){this.setSelectedTab(b)}},getSelectedTab:function(){return this._selTab},setSelectedTab:function(a){if(typeof a=="string"){a=zk.Widget.$(a)}if(this._selTab!=a){if(a){a.setSelected(true)}this._selTab=a}},bind_:function(d,c,b){this.$supers(zul.tab.Tabbox,"bind_",arguments);this._scrolling=false;var a=this._selTab;if(a){b.push(function(){a.setSelected(true)})}},removeChildHTML_:function(a){this.$supers("removeChildHTML_",arguments);if(this.isVertical()&&a.$instanceof(zul.tab.Tabs)){jq(a.uuid+"-line",zk).remove()}},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);if(a.$instanceof(zul.wgt.Toolbar)){this.toolbar=a}else{if(a.$instanceof(zul.tab.Tabs)){this.tabs=a}else{if(a.$instanceof(zul.tab.Tabpanels)){this.tabpanels=a}}}this.rerender()},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);if(a==this.toolbar){this.toolbar=null}else{if(a==this.tabs){this.tabs=null}else{if(a==this.tabpanels){this.tabpanels=null}}}if(!this.childReplacing_){this.rerender()}},setWidth:function(a){this.$supers("setWidth",arguments);if(this.desktop){zWatch.fireDown("onSize",this)}},setHeight:function(a){this.$supers("setHeight",arguments);if(this.desktop){zWatch.fireDown("onSize",this)}}});
zkreg('zul.tab.Tabbox');zk._m={};
zk._m['accordion-lite']=function(a){a.push("<div ",this.domAttrs_(),">");var b=this.getTabpanels();if(b){b.redraw(a)}a.push("</div>")};
;zk._m['default']=function(a){a.push("<div ",this.domAttrs_(),">");if(this.tabs){this.tabs.redraw(a)}if(this.tabpanels){this.tabpanels.redraw(a)}if(this.isVertical()){a.push('<div class="z-clear"></div>')}a.push("</div>")};
;zk._m['accordion']=function(a){a.push("<div ",this.domAttrs_(),">");var b=this.getTabpanels();if(b){b.redraw(a)}a.push("</div>")};
;zkmld(zk._p.p.Tabbox,zk._m);zul.tab.Tabs=zk.$extends(zul.Widget,{getTabbox:function(){return this.parent},getZclass:function(){if(this._zclass!=null){return this._zclass}var a=this.getTabbox();if(!a){return"z-tabs"}return"z-tabs"+(a.getMold()=="default"&&a.isVertical()?"-ver":"")},onSize:_zkf=function(){this._fixWidth();this._scrollcheck("init")},onShow:_zkf,insertChildHTML_:function(e,c,d){var b=e.previousSibling;if(c){jq(c).before(e.redrawHTML_())}else{if(b){jq(b).after(e.redrawHTML_())}else{var a=this.$n("edge");if(a){jq(a).before(e.redrawHTML_())}else{jq(this.getCaveNode()).append(e.redrawHTML_())}}}e.bind(d)},domClass_:function(d){var c=this.$supers("domClass_",arguments);if(!d||!d.zclass){var b=this.getTabbox(),a=b.isTabscroll()?c+"-scroll":"";if(a){c+=(c?" ":"")+a}}return c},setVflex:function(a){if(a!="min"){a=false}this.$super(zul.tab.Tabs,"setVflex",a)},setHflex:function(a){if(a!="min"){a=false}this.$super(zul.tab.Tabs,"setHflex",a)},bind_:function(g,f,e){this.$supers(zul.tab.Tabs,"bind_",arguments);zWatch.listen({onSize:this,onShow:this});for(var d,c=["right","left","down","up"],b=c.length;b--;){if((d=this.$n(c[b]))){this.domListen_(d,"onClick")}}this._inited=false;var a=this;e.push(function(){a._inited=true})},unbind_:function(){zWatch.unlisten({onSize:this,onShow:this});this.$supers(zul.tab.Tabs,"unbind_",arguments)},_isInited:function(){return this._inited},_scrollcheck:function(g,i){var f=this.getTabbox();if(!this.desktop||!f.isRealVisible()||!f.isTabscroll()){return}var j=this.$n(),y=f.$n();if(!j||!y){return}if(f.isVertical()){var r=this.$n("header"),v=r.offsetHeight,z=r.scrollTop,e=0;jq(this.$n("cave")).children().each(function(){e+=this.offsetHeight});if(f._scrolling){var w=this._getArrowSize();if(j.offsetHeight<w){return}var q=f.getSelectedTab(),p=i?i.$n():(q?q.$n():null),o=p?p.offsetTop:0,c=p?p.offsetHeight:0;if(e<=v+w){f._scrolling=false;this._showbutton(false);r.style.height=jq.px0(y.offsetHeight-2);r.scrollTop=0}switch(g){case"end":var u=e-v-z;this._doScroll(u>=0?"down":"up",u>=0?u:Math.abs(u));break;case"init":case"vsel":if(o<z){this._doScroll("up",z-o)}else{if(o+c>z+v){this._doScroll("down",o+c-z-v)}}break}}else{if(e-(v-10)>0){f._scrolling=true;this._showbutton(true);var w=this._getArrowSize(),t=y.offsetHeight-w;r.style.height=t>0?t+"px":"";if(g=="end"){var u=e-v-z+2;if(u>=0){this._doScroll(this.uuid,"down",u)}}}}}else{if(!f.inAccordionMold()){var k=this.$n("cave"),r=this.$n("header"),q=f.getSelectedTab(),p=i?i.$n():(q?q.$n():null),s=p?p.offsetLeft:0,m=p?p.offsetWidth:0,n=r.offsetWidth,x=r.scrollLeft,b=0,l=f.toolbar;jq(k).children().each(function(){b+=this.offsetWidth});if(l){l=l.$n()}if(f._scrolling){var w=this._getArrowSize();if(l){var a,h;if(zk.gecko2_){a=l.parentNode.parentNode;a.style.height="";h=a.offsetHeight}this.$n("right").style.right=l.offsetWidth+"px";if(zk.gecko2_){a.style.height=jq.px0(zk(a).revisedHeight(h))}}if(j.offsetWidth<w){return}if(b<=n+w){f._scrolling=false;this._showbutton(false);r.style.width=jq.px0(y.offsetWidth-(l?l.offsetWidth:0));r.scrollLeft=0}switch(g){case"end":var u=b-n-x;this._doScroll(u>=0?"right":"left",u>=0?u:Math.abs(u));break;case"init":case"sel":if(s<x){this._doScroll("left",x-s)}else{if(s+m>x+n){this._doScroll("right",s+m-x-n)}}break}}else{if(b-(n-10)>0){f._scrolling=true;this._showbutton(true);var k=this.$n("cave"),w=this._getArrowSize(),t=y.offsetWidth-(l?l.offsetWidth:0)-w;k.style.width="5555px";r.style.width=t>0?t+"px":"";if(l){this.$n("right").style.right=l.offsetWidth+"px"}if(g=="sel"){if(s<x){this._doScroll("left",x-s)}else{if(s+m>x+n){this._doScroll("right",s+m-x-n)}}}}}}}},_doScroll:function(f,a){if(!this._doingScroll){this._doingScroll={}}if(a<=0||this._doingScroll[f]){return}var c,b=this,e=this.$n("header");this._doingScroll[f]=a;c=a<=60?5:(5*(zk.parseInt(a/60)+1));var d=setInterval(function(){if(!a){delete b._doingScroll[f];clearInterval(d);return}else{a<c?goscroll(e,f,a):goscroll(e,f,c);a-=c;a=a<0?0:a}},10);goscroll=function(i,h,g){switch(h){case"right":i.scrollLeft+=g;break;case"left":i.scrollLeft-=g;break;case"up":i.scrollTop-=g;break;default:i.scrollTop+=g}i.scrollLeft=(i.scrollLeft<=0?0:i.scrollLeft);i.scrollTop=(i.scrollTop<=0?0:i.scrollTop)}},_getArrowSize:function(){var c=this.getTabbox(),d=c.isVertical(),b=d?this.$n("up"):this.$n("left"),a=d?this.$n("down"):this.$n("right");return b&&a?(d?b.offsetHeight+a.offsetHeight:b.offsetWidth+a.offsetWidth):0},_showbutton:function(a){var b=this.getTabbox(),c=this.getZclass();if(b.isTabscroll()){var d=this.$n("header");if(b.isVertical()){if(a){jq(d).addClass(c+"-header-scroll");jq(this.$n("down")).addClass(c+"-down-scroll");jq(this.$n("up")).addClass(c+"-up-scroll")}else{jq(d).removeClass(c+"-header-scroll");jq(this.$n("down")).removeClass(c+"-down-scroll");jq(this.$n("up")).removeClass(c+"-up-scroll")}}else{if(a){jq(d).addClass(c+"-header-scroll");jq(this.$n("right")).addClass(c+"-right-scroll");jq(this.$n("left")).addClass(c+"-left-scroll")}else{jq(d).removeClass(c+"-header-scroll");jq(this.$n("right")).removeClass(c+"-right-scroll");jq(this.$n("left")).removeClass(c+"-left-scroll")}}}},_doClick:function(n){var m=this.$n("cave"),g=jq(m).children();if(!g.length){return}var o=n.domTarget,b=0,a=this.getTabbox(),k=this.$n("header"),c=a.isVertical()?k.scrollTop:k.scrollLeft,f=a.isVertical()?k.offsetHeight:k.offsetWidth,j=c+f;if(o.id==this.uuid+"-right"){for(var e=0,h=g.length;e<h;e++){if(g[e].offsetLeft+g[e].offsetWidth>j){b=g[e].offsetLeft+g[e].offsetWidth-c-f;if(!b||isNaN(b)){return}this._doScroll("right",b);return}}}else{if(o.id==this.uuid+"-left"){for(var e=0,h=g.length;e<h;e++){if(g[e].offsetLeft>=c){var l=jq(g[e]).prev("li")[0];if(!l){return}b=c-l.offsetLeft;if(isNaN(b)){return}this._doScroll("left",b);return}}b=c-g[g.length-1].offsetLeft;if(isNaN(b)){return}this._doScroll("left",b);return}else{if(o.id==this.uuid+"-up"){for(var e=0,h=g.length;e<h;e++){if(g[e].offsetTop>=c){var d=jq(g[e]).prev("li")[0];if(!d){return}b=c-d.offsetTop;this._doScroll("up",b);return}}var d=g[g.length-1];if(!d){return}b=c-d.offsetTop;this._doScroll("up",b);return}else{if(o.id==this.uuid+"-down"){for(var e=0,h=g.length;e<h;e++){if(g[e].offsetTop+g[e].offsetHeight>j){b=g[e].offsetTop+g[e].offsetHeight-c-f;if(!b||isNaN(b)){return}this._doScroll("down",b);return}}}}}}},_fixWidth:function(){var g=this.$n();var b=this.getTabbox(),k=b.$n(),j=this.$n("cave"),h=this.$n("header"),d=this.$n("left"),a=this.$n("right"),c=b._scrolling?d&&a?d.offsetWidth+a.offsetWidth:0:0;this._fixHgh();if(this.parent.isVertical()){var f=0;if(g.style.width){g._width=g.style.width}else{this._forceStyle(g,"w",g._width?g._width:"50px")}}else{if(!b.inAccordionMold()){if(k.offsetWidth<c){return}if(b.isTabscroll()){var i=b.toolbar;if(i){i=i.$n()}if(!k.style.width){this._forceStyle(k,"w","100%");this._forceStyle(g,"w",jq.px0(jq(g).zk.revisedWidth(k.offsetWidth)));if(b._scrolling){this._forceStyle(h,"w",jq.px0(k.offsetWidth-(i?i.offsetWidth:0)-c))}else{this._forceStyle(h,"w",jq.px0(jq(h).zk.revisedWidth(k.offsetWidth-(i?i.offsetWidth:0))))}}else{this._forceStyle(g,"w",jq.px0(jq(g).zk.revisedWidth(k.offsetWidth)));this._forceStyle(h,"w",g.style.width);if(b._scrolling){this._forceStyle(h,"w",jq.px0(h.offsetWidth-(i?i.offsetWidth:0)-c))}else{this._forceStyle(h,"w",jq.px0(h.offsetWidth-(i?i.offsetWidth:0)))}}if(i&&b._scrolling){this.$n("right").style.right=i.offsetWidth+"px"}}else{if(!k.style.width){if(k.offsetWidth){var e=jq.px0(k.offsetWidth);this._forceStyle(k,"w",e);this._forceStyle(g,"w",e)}}else{this._forceStyle(g,"w",jq.px0(k.offsetWidth))}}}}},_fixHgh:function(){var f=this.$n(),a=this.getTabbox(),i=a.$n(),g=this.$n("header"),j=this.$n("up"),e=this.$n("down"),h=this.$n("cave"),c=j&&e?isNaN(j.offsetHeight+e.offsetHeight)?0:j.offsetHeight+e.offsetHeight:0;if(a.isVertical()){var b=jq(i).children("div");allTab=jq(h).children();if(i.style.height){this._forceStyle(f,"h",jq.px0(jq(f).zk.revisedHeight(i.offsetHeight,true)))}else{this._forceStyle(i,"h",jq.px0(allTab.length*35));this._forceStyle(f,"h",jq.px0(jq(f).zk.revisedHeight(i.offsetHeight,true)))}if(a._scrolling){this._forceStyle(g,"h",jq.px0(f.offsetHeight-c))}else{this._forceStyle(g,"h",jq.px0(jq(g).zk.revisedHeight(f.offsetHeight,true)))}this._forceStyle(b[1],"h",jq.px0(jq(b[1]).zk.revisedHeight(f.offsetHeight,true)));this._forceStyle(b[2],"h",jq.px0(jq(b[1]).zk.revisedHeight(f.offsetHeight,true)))}else{if(g){g.style.height=""}}},_forceStyle:function(b,a,c){if(!c){return}switch(a){case"h":b.style.height=zk.ie6_?"0px":"";b.style.height=c;break;case"w":b.style.width=zk.ie6_?"0px":"";b.style.width="";b.style.width=c;break}},onChildRemoved_:function(b){var a=this.parent;if(a&&b==a._selTab){a._selTab=null}this._scrollcheck("init");this.$supers("onChildRemoved_",arguments)},onChildAdded_:function(){this._scrollcheck("init");this.$supers("onChildAdded_",arguments)},ignoreFlexSize_:function(a){var b=this.getTabbox();return(b.isVertical()&&"h"==a)||(b.isHorizontal()&&"w"==a)}});
zkreg('zul.tab.Tabs');zk._m={};
zk._m['default']=function(c){var f=this.getZclass(),e=this.getTabbox(),d=this.uuid;c.push("<div ",this.domAttrs_(),">");if(e.isVertical()){c.push('<div id="',d,'-header" class="',f,'-header">','<ul id="',d,'-cave" class="',f,'-cnt">');for(var b=this.firstChild;b;b=b.nextSibling){b.redraw(c)}c.push('<li id="',d,'-edge" class="',f,'-edge" ></li></ul></div>','<div id="',d,'-up"> </div>','<div id="',d,'-down"></div></div><div id="',d,'-line" class="',f,'-space" ></div>')}else{var a=e.isTabscroll()&&e.toolbar;if(a){c.push('<div class="',e.toolbar.getZclass(),'-outer">');e.toolbar.redraw(c)}c.push('<div id="',d,'-right">',"</div>",'<div id="',d,'-left">',"</div>",'<div id="',d,'-header"',' class="',f,'-header" >','<ul id="',d,'-cave"','class="',f,'-cnt">');for(var b=this.firstChild;b;b=b.nextSibling){b.redraw(c)}c.push('<li id="',d,'-edge"',' class="',f,'-edge" ></li>','<div id="',d,'-clear" class="z-clear"> </div>',"</ul></div>");if(a){c.push("</div>")}c.push('<div id="',d,'-line"',' class="',f,'-space" ></div></div>')}};
;zkmld(zk._p.p.Tabs,zk._m);zul.tab.Tab=zk.$extends(zul.LabelImageWidget,{$init:function(){this.$supers("$init",arguments);this.listen({onClose:this},-1000)},$define:{closable:_zkf=function(){this.rerender()},image:_zkf,disabled:_zkf,selected:function(a){this._sel()}},getTabbox:function(){return this.parent?this.parent.parent:null},getIndex:function(){return this.getChildIndex()},getZclass:function(){if(this._zclass!=null){return this._zclass}var b=this.getTabbox();if(!b){return"z-tab"}var a=b.getMold();return"z-tab"+(a=="default"?(b.isVertical()?"-ver":""):"-"+a)},getLinkedPanel:function(){var a;return(a=this.getTabbox())&&(a=a.getTabpanels())?a.getChildAt(this.getIndex()):null},_doCloseClick:function(a){if(!this._disabled){this.fire("onClose");a.stop()}},_toggleBtnOver:function(a){jq(a.domTarget).toggleClass(this.getZclass()+"-close-over")},_sel:function(d,e){var c=this.getTabbox();if(!c){return}var b=this.parent,a=c._selTab;if(a!=this||e){if(a&&a!=this){this._setSel(a,false,false,e)}this._setSel(this,true,d,e)}},_setSel:function(e,d,h,i){var a=this.getTabbox(),c=this.getZclass(),b=e.getLinkedPanel(),f=this.desktop;if(e.isSelected()==d&&h){return}if(d){a._selTab=e}e._selected=d;if(!f){return}if(d){jq(e).addClass(c+"-seld")}else{jq(e).removeClass(c+"-seld")}if(b){b._sel(d,!i)}if(!a.inAccordionMold()){var g=this.parent;if(g){g._fixWidth()}}if(e==this){if(a.isVertical()){g._scrollcheck("vsel",this)}else{if(!a.inAccordionMold()){g._scrollcheck("sel",this)}}}if(h){this.fire("onSelect",{items:[this],reference:this.uuid})}},doClick_:function(a){if(this._disabled){return}this._sel(true);this.$supers("doClick_",arguments)},domClass_:function(c){var b=this.$supers("domClass_",arguments);if(!c||!c.zclass){var a=this.isDisabled()?this.getZclass()+"-disd":"";if(a){b+=(b?" ":"")+a}}return b},domContent_:function(){var b=zUtl.encodeXML(this.getLabel()),a=this.getImage();if(!b){b="&nbsp;"}if(!a){return b}a='<img src="'+a+'" align="absmiddle" class="'+this.getZclass()+'-img"/>';return b?a+" "+b:a},setVflex:function(a){if(a!="min"){a=false}this.$super(zul.tab.Tab,"setVflex",a)},setHflex:function(a){if(a!="min"){a=false}this.$super(zul.tab.Tab,"setHflex",a)},bind_:function(e,d,c){this.$supers(zul.tab.Tab,"bind_",arguments);var a=this.$n("close"),b=this;if(a){this.domListen_(a,"onClick","_doCloseClick");if(!a.style.cursor){a.style.cursor="default"}if(zk.ie6_){this.domListen_(a,"onMouseOver","_toggleBtnOver").domListen_(a,"onMouseOut","_toggleBtnOver")}}c.push(function(){b.parent._fixHgh()});c.push(function(){zk.afterMount(function(){if(b.isSelected()){b._sel(false,true)}})})},unbind_:function(){var a=this.$n("close");if(a){this.domUnlisten_(a,"onClick","_doCloseClick");if(zk.ie6_){this.domUnlisten_(a,"onMouseOver","_toggleBtnOver").domUnlisten_(a,"onMouseOut","_toggleBtnOver")}}this.$supers(zul.tab.Tab,"unbind_",arguments)},onClose:function(){if(this.isSelected()){var a=this,b=this.parent;setTimeout(function(){if(!a.parent||a.parent!=b){return}for(var c=a;c=c.nextSibling;){if(!c.isDisabled()){c._sel(true);return}}for(var c=a;c=c.previousSibling;){if(!c.isDisabled()){c._sel(true);return}}})}}});
zkreg('zul.tab.Tab',true);zk._m={};
zk._m['default']=function(a){var d=this.getZclass(),c=this.getTabbox(),b=this.uuid;if(c.inAccordionMold()){if(c.getMold()=="accordion-lite"){a.push('<div id="',this.uuid,'"',this.domAttrs_(),">",'<div align="left" class="',d,'-header">');if(this.isClosable()){a.push('<a id="',this.uuid,'-close" class="',d,'-close"></a>')}a.push('<div href="javascript:;" id="',this.uuid,'-tl" class="',d,'-tl">','<div class="',d,'-tr">','<span class="',d,'-tm">','<span class="',d,'-text">',this.domContent_(),"</span></span></div></div></div></div>")}else{if(c.getPanelSpacing()&&this.getIndex()){a.push('<div style="margin:0;display:list-item;width:100%;height:',c.getpanelSpacing(),';"></div>')}a.push('<div id="',this.uuid,'"',this.domAttrs_(),">",'<div align="left" class="',d,'-header" >','<div class="',d,'-tl" ><div class="',d,'-tr" ></div></div>','<div class="',d,'-hl" >','<div class="',d,'-hr" >','<div class="',d,'-hm" >');if(this.isClosable()){a.push('<a id="',this.uuid,'-close"  class="',d,'-close"></a>')}a.push('<span class="',d,'-text">',this.domContent_(),"</span></div></div></div></div></div>")}}else{a.push("<li ",this.domAttrs_(),">");if(this.isClosable()){a.push('<a id="',b,'-close" class="',d,'-close"','onClick="return false;" ></a>')}else{if(c.isVertical()){a.push('<a class="',d,'-noclose" ></a>')}}a.push('<div id="',b,'-hl" class="',d,'-hl"><div id="',b,'-hr" class="',d,'-hr">');if(this.isClosable()){a.push('<div id="',b,'-hm" class="',d,"-hm ",d,'-hm-close">')}else{a.push('<div id="',b,'-hm" class="',d,'-hm ">')}a.push('<span class="',d,'-text">',this.domContent_(),"</span></div></div></div></li>")}};
;zkmld(zk._p.p.Tab,zk._m);zul.tab.Tabpanels=zk.$extends(zul.Widget,{getTabbox:function(){return this.parent},getZclass:function(){if(this._zclass!=null){return this._zclass}var b=this.getTabbox();if(!b){return"z-tabpanels"}var a=b.getMold();return"z-tabpanels"+(a=="default"?(b.isVertical()?"-ver":""):"-"+a)},setWidth:function(c){var d=this.$n(),a=this.getTabbox(),b=d&&a?a.isVertical():false;if(b&&!this.__width){d.style.width=""}this.$supers("setWidth",arguments);if(b){if(d.style.width){this.__width=d.style.width}zWatch.fireDown("beforeSize",this);zWatch.fireDown("onSize",this)}},setStyle:function(c){var d=this.$n(),a=this.getTabbox(),b=d&&a?a.isVertical():false;if(b&&!this.__width){d.style.width=""}this.$supers("setStyle",arguments);if(b){if(d.style.width){this.__width=d.style.width}zWatch.fireDown("beforeSize",this);zWatch.fireDown("onSize",this)}},setVflex:function(a){if(a!="min"){a=false}this.$super(zul.tab.Tabpanels,"setVflex",a)},setHflex:function(a){if(a!="min"){a=false}this.$super(zul.tab.Tabpanels,"setHflex",a)},bind_:function(){this.$supers(zul.tab.Tabpanels,"bind_",arguments);if(this.getTabbox().isVertical()){this._zwatched=true;zWatch.listen({onSize:this,beforeSize:this,onShow:this});var a=this.$n();if(a.style.width){this.__width=a.style.width}}},unbind_:function(){if(this._zwatched){zWatch.unlisten({onSize:this,beforeSize:this,onShow:this});this._zwatched=false}this.$supers(zul.tab.Tabpanels,"unbind_",arguments)},onSize:_zkf=function(){var b=this.parent.$n();if(this.__width||!zk(b).isRealVisible()){return}var a=b.offsetWidth,c=this.$n();a-=jq(b).find(">div:first")[0].offsetWidth+jq(c).prev()[0].offsetWidth;c.style.width=jq.px0(zk(c).revisedWidth(a))},onShow:_zkf,beforeSize:function(){this.$n().style.width=this.__width||""}});
zkreg('zul.tab.Tabpanels');zk._m={};
zk._m['default']=function(b){b.push("<div",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div>")};
;zkmld(zk._p.p.Tabpanels,zk._m);zul.tab.Tabpanel=zk.$extends(zul.Widget,{getTabbox:function(){return this.parent?this.parent.parent:null},isVisible:function(){return this.$supers("isVisible",arguments)&&this.isSelected()},getZclass:function(){if(this._zclass!=null){return this._zclass}var b=this.getTabbox();if(!b){return"z-tabpanel"}var a=b.getMold();return"z-tabpanel"+(a=="default"?(b.isVertical()?"-ver":""):"-"+a)},getLinkedTab:function(){var b=this.getTabbox();if(!b){return null}var a=b.getTabs();return a?a.getChildAt(this.getIndex()):null},getIndex:function(){return this.getChildIndex()},isSelected:function(){var a=this.getLinkedTab();return a&&a.isSelected()},_sel:function(a,e){var c=this.getTabbox().inAccordionMold();if(c&&e){var f=this.$n("real");zk(f)[a?"slideDown":"slideUp"](this)}else{var b=jq(c?this.$n("real"):this.$n()),d=b.zk.isVisible();if(a){if(!d){b.show();zWatch.fireDown("onShow",this)}}else{if(d){zWatch.fireDown("onHide",this);b.hide()}}}},_fixPanelHgh:function(){var b=this.getTabbox();var d=b.$n(),a=d.style.height;if(a&&a!="auto"){if(!b.inAccordionMold()){var i=this.$n();a=zk(i.parentNode).vflexHeight();if(zk.ie8){a-=1}zk(i).setOffsetHeight(a);if(zk.ie6_){var c=this.$n("cave").style,g=c.zoom;c.zoom=1;c.zoom=g}}else{var i=this.$n(),a=zk(d).revisedHeight(d.offsetHeight);a=zk(i.parentNode).revisedHeight(a);for(var f=i.parentNode.firstChild;f;f=f.nextSibling){if(f!=i){a-=f.offsetHeight}}a-=i.firstChild.offsetHeight;a=zk(i.lastChild).revisedHeight(a);if(zk.ie8){a-=1}var h=this.getCaveNode();h.style.height=jq.px0(a);if(zk.ie&&!zk.ie8){var c=h.style,g=c.zoom;c.zoom=1;c.zoom=g;c.overflow="hidden"}}}},domClass_:function(){var a=this.$supers("domClass_",arguments);if(this.getTabbox().inAccordionMold()){a+=" "+this.getZclass()+"-cnt"}return a},onSize:_zkf=function(){this._fixPanelHgh();if(zk.ie&&!zk.ie8){zk(this.getTabbox().$n()).redoCSS()}},onShow:_zkf,setVflex:function(a){if(a!="min"){a=false}this.$super(zul.tab.Tabpanel,"setVflex",a)},setHflex:function(a){if(a!="min"){a=false}this.$super(zul.tab.Tabpanel,"setHflex",a)},bind_:function(){this.$supers(zul.tab.Tabpanel,"bind_",arguments);if(this.getTabbox().isHorizontal()){this._zwatched=true;zWatch.listen({onSize:this,onShow:this})}},unbind_:function(){if(this._zwatched){zWatch.unlisten({onSize:this,onShow:this});this._zwatched=false}this.$supers(zul.tab.Tabpanel,"unbind_",arguments)}});
zkreg('zul.tab.Tabpanel',true);zk._m={};
zk._m['default']=function(b){var e=this.uuid,f=this.getZclass(),c=this.getTabbox();if(c.inAccordionMold()){var d=this.getLinkedTab();b.push('<div class="',f,'-outer" id="',e,'">');if(d){d.redraw(b)}b.push('<div id="',e,'-real"',this.domAttrs_({id:1}),">",'<div id="',e,'-cave">');for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div></div></div>")}else{b.push("<div",this.domAttrs_(),">");if(c.isHorizontal()){b.push('<div id="',e,'-cave" class="',f,'-cnt">')}for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}if(c.isHorizontal()){b.push("</div>")}b.push("</div>")}};
;zkmld(zk._p.p.Tabpanel,zk._m);
}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zul.tab',1);